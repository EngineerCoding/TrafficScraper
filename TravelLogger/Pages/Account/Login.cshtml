@page
@using Microsoft.AspNetCore.Mvc.ModelBinding
@using TravelLogger.Pages.Account;
@model LoginModel;

@{
    ViewData["Title"] = "Log in";
}

<div class="row">
    <form method="POST" class="col s12 card-panel">
        <div class="row">
            <div class="col s12 input-field">
                <label asp-for="Input.Username">@Html.DisplayNameFor(model => model.Input.Username)</label>
                <input asp-for="Input.Username" class="validate" autocomplete="username"/>
            </div>
            @if (ModelState.GetFieldValidationState("Input.Username") == ModelValidationState.Invalid)
            {
                <div class="col s12 center">
                    <span class="red-text">Username is required!</span>
                </div>
            }
        </div>
        <div class="row">
            <div class="col s12 input-field">
                <label asp-for="Input.Password">@Html.DisplayNameFor(model => model.Input.Password)</label>
                <input asp-for="Input.Password" class="validate" autocomplete="current-password"/>
            </div>
            @if (ModelState.GetFieldValidationState("Input.Password") == ModelValidationState.Invalid)
            {
                <div class="col s12 center">
                    <span class="red-text">Password is required!</span>
                </div>
            }
        </div>
        <div class="row center">
            <button class="btn waves-effect waves-light" type="submit" name="action">Login <i class="material-icons right">send</i></button>
        </div>
        <div class="row center">
            <div class="col s12 red-text">@Model.ErrorString</div>
        </div>
    </form>
</div>
